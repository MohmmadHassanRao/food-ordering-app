(this.webpackJsonpsweet=this.webpackJsonpsweet||[]).push([[0],{124:function(e,t,c){},153:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(14),s=c.n(a),o=(c(86),c(124),c(10)),l=c(17),i=c(24),j=c(16),d=c(21),u=c(15),b=c.n(u),h=window.location.href.split(":"),O=h="https"===h[0]?"https://food-mania.herokuapp.com":"http://localhost:5000",x=c(1),m=Object(n.createContext)(),f=Object(n.createContext)(),p=function(){return Object(n.useContext)(m)},g=function(){return Object(n.useContext)(f)},v=function(e){var t=e.children,c=Object(n.useState)({user:null,isLoggedIn:!1,cart:[],totalAmount:0,role:null,allOrders:[],userOrders:[],products:[]}),r=Object(l.a)(c,2),a=r[0],s=r[1];return Object(n.useEffect)((function(){return b()({method:"get",url:"".concat(O,"/profile")}).then((function(e){console.log("context response",e.data.userData),200===e.data.status&&s((function(t){return Object(o.a)(Object(o.a)({},t),{},{user:e.data.userData,isLoggedIn:!0,role:e.data.userData.role})}))})).catch((function(e){console.log(e),e&&s((function(e){return Object(o.a)(Object(o.a)({},e),{},{isLoggedIn:!1})}))})),function(){console.log("cleanup")}}),[]),Object(x.jsx)("div",{children:Object(x.jsx)(m.Provider,{value:a,children:Object(x.jsx)(f.Provider,{value:s,children:t})})})},y=(c(95),c(61)),N=c(190),w=c(187),k=c(192),D=c(193),S=c(194),C=c(62),A=c(195),P=c(196),I=c(197),R=Object(w.a)((function(e){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},card:{margin:10}}})),L=function(e){var t,c=e.name,r=e.amount,a=e.image,s=e.quantity,j=e.id,d=e.actualPrice,u=e.halfKg,b=e.totalAmount,h=e.inCart,O=p(),m=g(),f=Object(n.useState)(h),v=Object(l.a)(f,2),w=v[0],L=v[1],T=Object(n.useState)("Add to cart"),q=Object(l.a)(T,2),E=q[0],F=q[1],G=R();return Object(x.jsx)(N.a,{container:!0,sm:12,md:6,lg:3,alignItems:"center",justify:"center",children:Object(x.jsxs)(k.a,(t={className:G.root},Object(i.a)(t,"className",G.card),Object(i.a)(t,"children",[Object(x.jsx)(D.a,{className:G.media,image:a,title:"Paella dish"}),Object(x.jsxs)(S.a,{children:[Object(x.jsx)(C.a,{variant:"h4",children:c}),Object(x.jsx)(C.a,{variant:"subtitle",children:d}),Object(x.jsx)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like."})]}),Object(x.jsx)(A.a,{disableSpacing:!0,children:Object(x.jsx)(P.a,{"aria-label":"add to favorites",children:Object(x.jsx)(I.a,{variant:"contained",disabled:w,color:"secondary",onClick:function(){var e={name:c,amount:r,quantity:s,id:j,actualPrice:d,halfKg:u,inCart:h};L(!0),F("Added to your cart"),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{cart:[].concat(Object(y.a)(O.cart),[e]),totalAmount:b})}))},children:E})})})]),t))})},T=function(){var e=p(),t=g();Object(n.useEffect)((function(){b()({method:"get",url:"".concat(O,"/Products")}).then((function(e){console.log(e.data.products),t((function(t){return Object(o.a)(Object(o.a)({},t),{},{products:e.data.products})}))})).catch((function(e){return console.log(e)}))}),[]);var c=e.products.reduce((function(e,t){return{amount:e.amount+t.amount}}),0);return console.log(e),Object(x.jsxs)(N.a,{style:{margin:"30px",padding:"30px"},children:[e.user&&Object(x.jsx)("h1",{className:"text-center",children:"PRODUCTS"}),Object(x.jsx)(N.a,{container:!0,sm:12,children:e.products.map((function(e,t){return Object(x.jsx)(L,{actualPrice:e.actualPrice,name:e.foodName,amount:e.amount,quantity:e.quantity,image:e.image,id:e._id,halfKg:e.halfKg,inCart:e.inCart,totalAmount:c.amount},t)}))})]})},q=c(102),E=c.n(q),F=c(101),G=c.n(F),W=c(103),z=c.n(W),B=c(209),K=c(200),U=c(216),H=c(213);c(147);b.a.defaults.withCredentials=!0;var M=Object(w.a)({root:{minWidth:275,height:"80vh",maxWidth:500,display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto",marginTop:"10px",flexDirection:"column"},inputs:{marginTop:"13px"},socialLogin:{backgroundColor:"#E62E55",width:400,borderRadius:"5px",textDecoration:"none",color:"white",marginTop:"10px",padding:"6px",textAlign:"center"}}),Q=function(){var e,t=M(),c=Object(n.useState)(""),r=Object(l.a)(c,2),a=r[0],s=r[1],j=Object(n.useState)(!1),u=Object(l.a)(j,2),h=u[0],m=u[1],f=Object(n.useState)(""),v=Object(l.a)(f,2),y=v[0],N=v[1],w=Object(d.g)(),D=p(),S=g(),A=Object(n.useRef)();console.log(A);var P=Object(n.useRef)(),R=Object(n.useState)(""),L=Object(l.a)(R,2),T=L[0],q=L[1];return Object(n.useEffect)((function(){console.log(T),b()({method:"post",url:"".concat(O,"/auth/validateEmail"),data:{email:T}}).then((function(e){console.log("validation",e.data.isFound),console.log("validation",e.data.data),null===e.data.data?N("email not found"):e.data.data&&N("")})).catch((function(e){return e}))}),[T]),Object(n.useEffect)((function(){b()({method:"get",url:"".concat(O,"/profile")}).then((function(e){console.log("=====================pro response",e.data.userData),200===e.data.status&&S((function(t){return Object(o.a)(Object(o.a)({},t),{},{user:e.data.userData,isLoggedIn:!0,role:e.data.userData.role})}))})).catch((function(e){console.log(e)})),console.log("111",D)}),[]),console.log(D),Object(x.jsxs)("div",{children:[Object(x.jsxs)(k.a,{className:t.root,children:[Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b()({method:"post",url:O+"/auth/login",data:{email:A.current.value,password:P.current.value}}).then((function(e){console.log("response",e),s(e.data.message),200===e.data.status&&setTimeout((function(){w.push("/dashboard"),S((function(t){return Object(o.a)(Object(o.a)({},t),{},{isLoggedIn:!t.isLoggedIn,role:e.data.user.role})}))}),3e3)}),(function(e){alert("error",e),console.log("error data",JSON.stringify(e.message))}))},children:[Object(x.jsx)(C.a,{variant:"h4",align:"center",children:Object(x.jsx)(G.a,{color:"secondary",fontSize:"large"})}),Object(x.jsx)(C.a,{variant:"h4",align:"center",children:"Login"}),Object(x.jsx)("br",{}),Object(x.jsx)(B.a,{id:"standard-basic",type:"email",label:"Enter email",inputRef:A,required:!0,className:t.inputs,color:"secondary",onChange:function(e){return q(e.target.value)},style:{width:400}}),Object(x.jsx)("br",{}),Object(x.jsx)(C.a,(e={className:"text-muted"},Object(i.a)(e,"className","float-right"),Object(i.a)(e,"children",y),e)),Object(x.jsx)("br",{}),Object(x.jsx)(B.a,{id:"filled-password-input",type:"password",label:"password",inputRef:P,required:!0,color:"secondary",className:t.inputs,style:{width:400}}),Object(x.jsx)("br",{}),Object(x.jsxs)(I.a,{type:"submit",variant:"contained",color:"secondary",onClick:function(){m(!0)},fullWidth:!0,className:t.inputs,style:{marginTop:"30px"},children:["LOGIN"," "]})]}),Object(x.jsx)(K.a,{className:t.socialLogin,href:"https://food-mania.herokuapp.com/auth/google",style:{textDecoration:"none",color:"#fff"},children:Object(x.jsxs)(C.a,{variant:"button",align:"right",children:[Object(x.jsx)(E.a,{style:{marginRight:15}}),"Login With Google"]})}),Object(x.jsx)(K.a,{className:t.socialLogin,href:"https://food-mania.herokuapp.com/auth/facebook",style:{textDecoration:"none",color:"#fff"},children:Object(x.jsxs)(C.a,{variant:"button",align:"right",children:[Object(x.jsx)(z.a,{style:{marginRight:15}}),"Login With Facebook"]})})]}),a&&Object(x.jsx)(U.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:h,autoHideDuration:6e3,children:Object(x.jsx)(H.a,{severity:"success",variant:"filled",children:a})})]})},Y=c(104),_=c.n(Y),J=Object(w.a)({root:{minWidth:275,height:"80vh",maxWidth:500,display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto",marginTop:"10px"},inputs:{marginTop:"13px"}}),Z=function(){var e,t=J(),c=Object(n.useState)(""),r=Object(l.a)(c,2),a=r[0],s=r[1],o=Object(n.useState)(!1),j=Object(l.a)(o,2),u=j[0],h=j[1],m=Object(n.useState)(""),f=Object(l.a)(m,2),p=f[0],g=f[1],v=Object(d.g)(),y=Object(n.useRef)(),N=Object(n.useRef)(),w=Object(n.useRef)();console.log(N,y,w);var D=Object(n.useState)(""),S=Object(l.a)(D,2),A=S[0],P=S[1];return Object(n.useEffect)((function(){console.log(A),b()({method:"post",url:"".concat(O,"/auth/validateEmail"),data:{email:A}}).then((function(e){console.log("validation",e.data.isFound),console.log("validation",e.data.data),null===e.data.data?g(""):e.data.data&&g("email already registered")}))}),[A]),Object(x.jsxs)("div",{children:[Object(x.jsx)(k.a,{className:t.root,children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b()({method:"post",url:O+"/auth/signup",data:{name:y.current.value,email:N.current.value,password:w.current.value}}).then((function(e){console.log("response",e),console.log("response doc",e.data.doc),s(e.data.message),200===e.data.status&&setTimeout((function(){v.push("/login")}),3e3)}),(function(e){alert("error",e),console.log("error data",e.response)}))},children:[Object(x.jsx)(C.a,{variant:"h4",align:"center",children:Object(x.jsx)(_.a,{color:"secondary",fontSize:"large"})}),Object(x.jsx)(C.a,{variant:"h4",align:"center",children:"Sign Up"}),Object(x.jsx)(B.a,{id:"standard-basic",label:"Username",inputRef:y,className:t.inputs,required:!0,margin:"normal",style:{width:400},color:"secondary"})," ",Object(x.jsx)("br",{}),Object(x.jsx)(B.a,{id:"full-width-text-field",type:"email",label:"Enter email",inputRef:N,required:!0,className:t.inputs,style:{width:400},color:"secondary",onChange:function(e){return P(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)(C.a,(e={className:"text-muted"},Object(i.a)(e,"className","float-right"),Object(i.a)(e,"children",p),e)),Object(x.jsx)("br",{}),Object(x.jsx)(B.a,{id:"filled-password-input",type:"password",label:"password",inputRef:w,required:!0,color:"secondary",style:{width:400},fullWidth:!0}),Object(x.jsx)("br",{}),Object(x.jsxs)(I.a,{type:"submit",variant:"contained",color:"secondary",onClick:function(){h(!0)},fullWidth:!0,className:t.inputs,children:["Register"," "]})]})}),a&&Object(x.jsx)(U.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:u,autoHideDuration:6e3,children:Object(x.jsx)(H.a,{severity:"success",variant:"filled",children:a})})]})},V=c(78),X=c.n(V),$=c(70),ee=c.n($),te=c(80),ce=c.n(te),ne=c(201),re=c(217),ae=c(214),se=c(211),oe=c(105),le=c.n(oe),ie=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),r=p(),a=g(),s=Object(n.useState)(!1),i=Object(l.a)(s,2);i[0],i[1];return console.log(r.products),Object(x.jsxs)("div",{className:"d-flex flex-column p-3 ",children:[Object(x.jsx)("h3",{className:"text-center",children:"Order Information"}),Object(x.jsxs)(ne.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"text-center",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Item Name"}),Object(x.jsx)("th",{children:"Price"}),Object(x.jsx)("th",{children:"Quantity"}),Object(x.jsx)("th",{children:"Amount"}),Object(x.jsx)("th",{children:"Remove"})]})}),Object(x.jsx)("tbody",{children:r.cart.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.actualPrice}),Object(x.jsxs)("td",{children:[Object(x.jsx)(re.a,{variant:"outline-info",disabled:e.lessThanZero,onClick:function(){return function(e,t){r.cart.map((function(c,n,s){if(c.name===s[t].name){var l=Object(y.a)(r.cart);l[t].quantity-=1,l[t].amount=l[t].actualPrice*l[t].quantity;var i=l.reduce((function(e,t){return{amount:e.amount+t.amount}}));a((function(e){return Object(o.a)(Object(o.a)({},e),{},{cart:l,totalAmount:i.amount})})),console.log("product price is=>",c),console.log("our product name",r.cart[t].name),console.log("new cart",r.cart),console.log("total amount",r.totalAmount),console.log("remove event",e)}console.log("new value",s[t].quantity),s[t].quantity<=1&&(s[t].lessThanZero=!0)}))}(e,t)},children:"-"})," ",e.quantity," ",Object(x.jsx)(re.a,{variant:"outline-info",onClick:function(){return function(e){r.cart.map((function(t,c,n){if(t.name===n[e].name){var s=Object(y.a)(r.cart);s[e].quantity+=1,s[e].amount=s[e].actualPrice*s[e].quantity;var l=s.reduce((function(e,t){return{amount:e.amount+t.amount}}));a((function(e){return Object(o.a)(Object(o.a)({},e),{},{cart:s,totalAmount:l.amount})}))}n[e].quantity>=1&&(n[e].lessThanZero=!1)}))}(t)},children:"+"})]}),Object(x.jsxs)("td",{children:[e.amount,"rs"]}),Object(x.jsx)("td",{children:Object(x.jsx)(P.a,{onClick:function(){return function(e,t){console.log("running",e,t);var c=r.cart.reduce((function(e,t){return{amount:e.amount+t.amount}})),n=r.cart.filter((function(t){return t.id!==e})),s=c.amount-t;a((function(e){return Object(o.a)(Object(o.a)({},e),{},{cart:n,totalAmount:s})})),console.log(r.cart)}(e.id,e.amount)},children:Object(x.jsx)(le.a,{})})})]},t)}))})]}),Object(x.jsx)("div",{className:"d-flex justify-content-end",children:Object(x.jsx)(ae.a,{style:{width:"18rem"},children:Object(x.jsxs)(ae.a.Body,{children:[Object(x.jsx)(ae.a.Title,{className:"text-left",children:"Order Details"}),Object(x.jsxs)(ae.a.Text,{as:"h6",children:["Total Amount: ",r.totalAmount,"rs",Object(x.jsxs)(se.a,{className:"pt-2",onSubmit:function(n){n.preventDefault(),b()({method:"post",url:"".concat(O,"/placeorder"),data:{order:r.cart,total:r.totalAmount,address:e.current.value,phone:t.current.value,remarks:c.current.value}}).then((function(n){alert(n.data.message),console.log(n.data.message),console.log(n.data.data),a((function(e){return Object(o.a)(Object(o.a)({},e),{},{cart:[]})})),e.current.value="",t.current.value="",c.current.value=""})).catch((function(e){return console.log(e)}))},children:[Object(x.jsx)(se.a.Group,{controlId:"formBasicEmail",children:Object(x.jsx)(se.a.Control,{type:"text",ref:e,placeholder:"Your Address",required:!0})}),Object(x.jsx)(se.a.Group,{controlId:"formBasicEmail",children:Object(x.jsx)(se.a.Control,{type:"text",ref:t,placeholder:"Your Phone Number",required:!0})}),Object(x.jsx)(se.a.Group,{controlId:"exampleForm.ControlTextarea1",children:Object(x.jsx)(se.a.Control,{as:"textarea",ref:c,rows:3,placeholder:"Remarks Or any additional Note",required:!0})}),Object(x.jsx)(re.a,{variant:"primary",type:"submit",children:"Place Order"})]})]})]})})})]})},je=c(79),de=c.n(je),ue=c(108),be=c.n(ue),he=c(210),Oe=c(202),xe=c.p+"static/media/empty.10414843.png",me=function(){return Object(x.jsx)(Oe.a,{children:Object(x.jsxs)(N.a,{container:!0,justify:"center",direction:"column",alignItems:"center",style:{height:"90vh"},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(C.a,{variant:"h3",color:"secondary",children:"No Orders"})," "]}),Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:xe,alt:"empty",height:"400px"})})]})})},fe=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],r=t[1],a=p(),s=g();Object(n.useEffect)((function(){b()({method:"get",url:"".concat(O,"/orders")}).then((function(e){console.log("order details",e),s((function(t){return Object(o.a)(Object(o.a)({},t),{},{allOrders:e.data.orders})}))})).catch((function(e){return console.log(e)}))}),[c]);console.log(a.allOrders);var i=a.allOrders.filter((function(e){return"pending"===e.status}));return console.log(i),Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"welcome to Dashboard"}),i.length>0?Object(x.jsx)("div",{className:"d-flex flex-column-reverse",children:i.map((function(e,t){var c=e.orderDetails,n=e.orderTotal,a=e.address,s=e.email,o=e.phone,l=e.remarks,i=e.name,j=e._id,d=e.status;return Object(x.jsx)(he.a,{children:Object(x.jsxs)(ae.a,{children:[Object(x.jsx)(he.a.Toggle,{as:ae.a.Header,eventKey:"0",style:{color:"red",cursor:"pointer"},children:"New Order"}),Object(x.jsx)(he.a.Collapse,{eventKey:"0",children:Object(x.jsxs)("div",{className:"p-4",children:[Object(x.jsx)("h4",{children:"Order Details"}),Object(x.jsxs)("div",{children:[Object(x.jsxs)(ne.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Quantity"}),Object(x.jsx)("th",{children:"Actual Price"}),Object(x.jsx)("th",{children:"Amount"})]})}),Object(x.jsx)("tbody",{children:c.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.quantity}),Object(x.jsx)("td",{children:e.actualPrice}),Object(x.jsx)("td",{children:e.amount})]},t)}))}),Object(x.jsx)("h4",{children:"User Details"}),Object(x.jsxs)("tfoot",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Total Amount"}),Object(x.jsx)("td",{colSpan:"3",children:n})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Status"}),Object(x.jsx)("td",{colSpan:"3",children:d})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("td",{colSpan:"3",children:i})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Email"}),Object(x.jsx)("td",{colSpan:"3",children:s})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Address"}),Object(x.jsx)("td",{colSpan:"3",children:a})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Phone Number"}),Object(x.jsx)("td",{colSpan:"3",children:o})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Remarks"}),Object(x.jsx)("td",{colSpan:"3",children:l})]})]})]}),Object(x.jsx)(re.a,{className:"float-right",onClick:function(){return e=j,console.log(e),void b()({method:"patch",url:"".concat(O,"/declineOrder"),data:{id:e}}).then((function(e){console.log(e),alert(e.data.message),r(!0)}));var e},variant:"danger",children:"Decline"}),Object(x.jsx)(re.a,{className:"float-right",onClick:function(){return e=j,console.log(e),void b()({method:"patch",url:"".concat(O,"/acceptOrder"),data:{id:e}}).then((function(e){console.log(e),alert(e.data.message),r(!0)}));var e},variant:"success",children:"Accept"})]})]})})]})},t)}))}):Object(x.jsx)(me,{})]})},pe=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=(t[0],t[1],p()),r=g();return Object(n.useEffect)((function(){b()({method:"get",url:"".concat(O,"/myorders")}).then((function(e){console.log(e.data.userOrders),r((function(t){return Object(o.a)(Object(o.a)({},t),{},{userOrders:e.data.userOrders})}))})).catch((function(e){return console.log(e)}))}),[]),console.log(c),Object(x.jsxs)("div",{className:"p-4",children:[Object(x.jsx)("h1",{className:"text-center",children:"Your orders"}),Object(x.jsx)("div",{className:"d-flex flex-column-reverse",children:c&&c.userOrders&&c.userOrders.length?c.userOrders.map((function(e,t){var c=e.orderDetails,n=e.orderTotal,r=e.remarks,a=(e.address,e.phone,e.orderCode);return console.log(r,n,a),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsxs)("h3",{children:["OrderCode:",a]})}),Object(x.jsx)("div",{children:Object(x.jsxs)(ne.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Quantity"}),Object(x.jsx)("th",{children:"Amount"})]})}),Object(x.jsx)("tbody",{children:c.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.quantity}),Object(x.jsx)("td",{children:e.amount})]},t)}))}),Object(x.jsx)("br",{}),Object(x.jsxs)("tfoot",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Total Amount"}),Object(x.jsx)("td",{colSpan:"2",children:n})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Remarks"}),Object(x.jsx)("td",{colSpan:"2",children:r})]})]})]})})]},t)})):Object(x.jsxs)(N.a,{container:!0,sm:12,alignItems:"center",justify:"center",direction:"column",children:[Object(x.jsx)(C.a,{children:"You haven't orders yet"}),Object(x.jsx)(I.a,{component:j.b,to:"/dashboard",variant:"contained",color:"secondary",style:{color:"#fff",textDecoration:"none"},children:"Order Now"})]})})]})},ge=function(){var e=Object(n.useRef)(),t=Object(n.useRef)();return Object(x.jsxs)("div",{className:"d-flex justify-content-center flex-column  align-items-center ",children:[Object(x.jsx)("h1",{children:"Add product"}),Object(x.jsxs)(se.a,{onSubmit:function(c){c.preventDefault(),function(){var c=document.getElementById("prodImg");console.log("fileInp",c),console.log("fileInp",c.files[0]);var n=new FormData;n.append("myFile",c.files[0]),n.append("productName",e.current.value),n.append("productAmount",t.current.value),b()({method:"post",url:O+"/upload",data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(c){alert(c.data.message),console.log("upload success",c.data),e.current.value="",t.current.value="",document.getElementById("prodImg").value=""})).catch((function(e){return console.log(e)}))}()},children:[Object(x.jsxs)(se.a.Group,{children:[Object(x.jsx)(se.a.Label,{children:"Product Name"}),Object(x.jsx)(se.a.Control,{type:"text",ref:e,placeholder:"Product Name",required:!0})]}),Object(x.jsxs)(se.a.Group,{children:[Object(x.jsx)(se.a.Label,{children:"Product Amount"}),Object(x.jsx)(se.a.Control,{type:"text",ref:t,placeholder:"Product Amount",required:!0})]}),Object(x.jsx)(se.a.Group,{children:Object(x.jsx)(se.a.File,{id:"prodImg",label:"Upload Image",required:!0})}),Object(x.jsx)(re.a,{variant:"primary",type:"submit",className:"w-100",children:"Add"})]})]})},ve=Object(w.a)((function(e){return{root:{display:"flex","& .MuiTextField-root":{margin:e.spacing(1),width:"30ch"}},cont:{margin:"50px"}}})),ye=function(){var e=ve(),t=Object(n.useState)([]),c=Object(l.a)(t,2),r=c[0],a=c[1],s=Object(n.useRef)(null),i=p(),j=g();Object(n.useEffect)((function(){b()({method:"get",url:"".concat(O,"/orders")}).then((function(e){console.log("order details",e),j((function(t){return Object(o.a)(Object(o.a)({},t),{},{allOrders:e.data.orders})})),a(e.data.orders)})).catch((function(e){return console.log(e)}))}),[]);var d=i.allOrders.filter((function(e){return"accepted"===e.status}));return Object(x.jsxs)("div",{className:e.cont,children:[Object(x.jsx)(Oe.a,{children:Object(x.jsxs)(N.a,{container:!0,className:e.root,justify:"space-between",children:[Object(x.jsx)("h1",{children:"Recent Orders"}),Object(x.jsx)(B.a,{required:!0,id:"search",label:"Search order by customer email",onChange:function(){if(s.current.value){var e=d.filter((function(e){return e.orderCode.toLowerCase().includes(s.current.value)}));a(e),console.log(r)}},inputRef:s})]})}),Object(x.jsx)("div",{className:"d-flex flex-column-reverse",children:r.map((function(e,t){var c=e.orderDetails,n=e.orderTotal,r=e.address,a=e.email,s=e.phone,o=e.remarks,l=e.name,i=(e._id,e.status),j=e.orderCode;return Object(x.jsx)(ae.a,{children:Object(x.jsxs)("div",{className:"p-4",children:[Object(x.jsx)("h4",{children:"Order Details"}),Object(x.jsx)("div",{children:Object(x.jsxs)(ne.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Item Name"}),Object(x.jsx)("th",{children:"Quantity"}),Object(x.jsx)("th",{children:"Actual Price"}),Object(x.jsx)("th",{children:"Amount"})]})}),Object(x.jsx)("tbody",{children:c.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.quantity}),Object(x.jsx)("td",{children:e.actualPrice}),Object(x.jsx)("td",{children:e.amount})]},t)}))}),Object(x.jsx)("h4",{children:"User Details"}),Object(x.jsxs)("tfoot",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Order Code"}),Object(x.jsx)("td",{colSpan:"3",children:j})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Total Amount"}),Object(x.jsx)("td",{colSpan:"3",children:n})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Status"}),Object(x.jsx)("td",{colSpan:"3",children:i})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("td",{colSpan:"3",children:l})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Email"}),Object(x.jsx)("td",{colSpan:"3",children:a})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Address"}),Object(x.jsx)("td",{colSpan:"3",children:r})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Phone Number"}),Object(x.jsx)("td",{colSpan:"3",children:s})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Remarks"}),Object(x.jsx)("td",{colSpan:"3",children:o})]})]})]})})]})})}))})]})},Ne=c(81),we=c.n(Ne),ke=c(215),De=c(199),Se=c(203),Ce=c(204),Ae=c(205),Pe=c(206),Ie=c(207),Re=c(208),Le=c(218),Te=Object(w.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(4)},alignItems:"center",boxShadow:"-7px 10px 12px -10px rgba(0,0,0,0.75)",borderRadius:"10px"}}})),qe=function(){var e=Te(),t=Object(n.useState)(!1),c=Object(l.a)(t,2),r=c[0],a=c[1],s=p(),i=g();Object(n.useEffect)((function(){b()({method:"get",url:"".concat(O,"/Products")}).then((function(e){console.log(e.data.products),i((function(t){return Object(o.a)(Object(o.a)({},t),{},{products:e.data.products})}))})).catch((function(e){return console.log(e)}))}),[r]);return Object(x.jsxs)(Oe.a,{children:[Object(x.jsx)(C.a,{variant:"h1",align:"center",style:{margin:"20px",padding:"20px"},children:"Products"}),Object(x.jsx)(N.a,{container:!0,children:s.products.map((function(t){return Object(x.jsxs)(N.a,{container:!0,sm:12,className:e.root,children:[Object(x.jsx)(Le.a,{style:{height:"100px",width:"100px"},alt:t.image,src:t.image}),Object(x.jsx)(C.a,{variant:"h4",children:t.foodName}),Object(x.jsx)(C.a,{variant:"h4",children:t.actualPrice}),Object(x.jsx)(I.a,{variant:"outlined",color:"secondary",onClick:function(){return e=t._id,void b()({method:"post",url:"".concat(O,"/delProduct"),data:{productId:e}}).then((function(e){alert(e.data.message),a(!0)})).catch((function(e){return console.log(e)}));var e},children:"Delete"})]})}))})]})},Ee=Object(w.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:2},nav:{backgroundColor:"#fc5185"},links:{color:"#fff",margin:"0 10px",textDecoration:"none"},list:{width:300},menuButton:Object(i.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),hideNav:Object(i.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex",marginLeft:"auto"}),drawerLinks:{backgroundColor:"#fc5185",color:"#fff",height:"100vh"}}})),Fe=function(){var e=Ee(),t=Object(n.useState)({left:!1}),c=Object(l.a)(t,2),a=c[0],s=c[1],u=function(e,t){return function(c){("keydown"!==c.type||"Tab"!==c.key&&"Shift"!==c.key)&&s(Object(o.a)(Object(o.a)({},a),{},Object(i.a)({},e,t)))}},h=function(t){return Object(x.jsx)("div",{role:"presentation",onClick:u(t,!1),onKeyDown:u(t,!1),children:Object(x.jsx)(j.a,{children:Object(x.jsxs)("div",{className:e.drawerLinks,children:[Object(x.jsxs)(De.a,{children:[Object(x.jsx)(Se.a,{children:Object(x.jsxs)(I.a,{style:{color:"#fff",textDecoration:"none"},component:j.b,to:"/profile",children:[Object(x.jsx)(Ce.a,{style:{color:"#fff"},children:Object(x.jsx)(X.a,{})}),"Home"]})}),Object(x.jsx)(Se.a,{children:Object(x.jsxs)(I.a,{style:{color:"#fff",textDecoration:"none"},component:j.b,to:"/dashboard",children:[Object(x.jsx)(Ce.a,{style:{color:"#fff"},children:Object(x.jsx)(de.a,{})}),"Dashboard"]})}),Object(x.jsx)(Se.a,{children:Object(x.jsxs)(I.a,{style:{color:"#fff",textDecoration:"none"},component:j.b,to:"/orders",children:[Object(x.jsx)(Ce.a,{style:{color:"#fff"},children:Object(x.jsx)(ee.a,{})})," ","My Orders"]})})]}),Object(x.jsx)(Ae.a,{}),Object(x.jsx)(De.a,{children:Object(x.jsxs)(Se.a,{button:!0,children:[Object(x.jsx)(Ce.a,{style:{color:"#fff"},children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(Pe.a,{primary:"Logout"})]})})]})})})},m=function(t){return Object(x.jsx)("div",{role:"presentation",onClick:u(t,!1),onKeyDown:u(t,!1),children:Object(x.jsx)(j.a,{children:Object(x.jsxs)("div",{className:e.drawerLinks,children:[Object(x.jsxs)(De.a,{children:[Object(x.jsx)(Se.a,{children:Object(x.jsxs)(I.a,{style:{color:"#fff",textDecoration:"none"},component:j.b,to:"/admin",children:[Object(x.jsx)(Ce.a,{style:{color:"#fff"},children:Object(x.jsx)(X.a,{})}),"Dashboard"]})}),Object(x.jsx)(Se.a,{children:Object(x.jsxs)(I.a,{style:{color:"#fff",textDecoration:"none"},component:j.b,to:"/recentOrders",children:[Object(x.jsx)(Ce.a,{style:{color:"#fff"},children:Object(x.jsx)(de.a,{})}),"Recent Order"]})}),Object(x.jsx)(Se.a,{children:Object(x.jsxs)(I.a,{style:{color:"#fff",textDecoration:"none"},component:j.b,to:"/create",children:[Object(x.jsx)(Ce.a,{style:{color:"#fff"},children:Object(x.jsx)(ee.a,{})})," ","Add Products"]})}),Object(x.jsx)(Se.a,{children:Object(x.jsxs)(I.a,{style:{color:"#fff",textDecoration:"none"},component:j.b,to:"/myProducts",children:[Object(x.jsx)(Ce.a,{style:{color:"#fff"},children:Object(x.jsx)(ee.a,{})})," ","Products"]})})]}),Object(x.jsx)(Ae.a,{}),Object(x.jsx)(De.a,{children:Object(x.jsxs)(Se.a,{onClick:y,children:[Object(x.jsx)(Ce.a,{style:{color:"#fff"},children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(Pe.a,{primary:"Logout"})]})})]})})})},f=p(),v=g(),y=function(){b()({method:"post",url:"".concat(O,"/auth/logout"),withCredentials:!0}).then((function(e){v((function(e){return Object(o.a)(Object(o.a)({},e),{},{isLoggedIn:!1})}))}))};return Object(x.jsxs)("div",{children:[f.isLoggedIn?null:Object(x.jsxs)(j.a,{children:[Object(x.jsx)("nav",{className:"navbar",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(j.b,{to:"/",children:"Home"})}),Object(x.jsx)("li",{children:Object(x.jsx)(j.b,{to:"/signup",children:"signup"})}),Object(x.jsx)("li",{children:Object(x.jsx)(j.b,{to:"/login",children:"Login"})})]})}),Object(x.jsxs)(d.d,{children:[Object(x.jsx)(d.b,{exact:!0,path:"/",children:Object(x.jsx)(Q,{})}),Object(x.jsx)(d.b,{path:"/signup",children:Object(x.jsx)(Z,{})}),Object(x.jsx)(d.b,{path:"/login",children:Object(x.jsx)(Q,{})}),Object(x.jsx)(d.b,{path:"*",children:Object(x.jsx)(d.a,{to:"/"})})]})]}),f.isLoggedIn&&"user"===f.role?Object(x.jsxs)(j.a,{children:[Object(x.jsx)("div",{className:e.root,children:Object(x.jsx)(Ie.a,{position:"static",className:e.nav,children:Object(x.jsxs)(Re.a,{children:[Object(x.jsx)("div",{className:e.menuButton,children:["left"].map((function(e){return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)(I.a,{onClick:u(e,!0),children:Object(x.jsx)(we.a,{style:{color:"#fff"}})}),Object(x.jsx)(ke.a,{anchor:e,open:a[e],onClose:u(e,!1),children:h(e)})]},e)}))}),Object(x.jsxs)("div",{className:e.hideNav,children:[Object(x.jsx)(j.b,{to:"/dashboard",className:e.links,style:{color:"white",textDecoration:"none"},children:Object(x.jsx)(C.a,{children:"Shop"})}),Object(x.jsx)(j.b,{to:"/orders",className:e.links,style:{color:"white",textDecoration:"none"},children:Object(x.jsx)(C.a,{children:"My Orders"})}),Object(x.jsx)(j.b,{to:"/cart",className:e.links,style:{color:"white",textDecoration:"none"},children:Object(x.jsxs)(C.a,{style:{display:"flex"},children:[Object(x.jsxs)(C.a,{variant:"subtitle2",children:[" ",f.cart.length]}),Object(x.jsx)(be.a,{})]})}),Object(x.jsx)(j.b,{className:[e.links],style:{color:"white",textDecoration:"none"},children:Object(x.jsx)(C.a,{onClick:y,children:"Logout"})})]})]})})}),Object(x.jsxs)(d.d,{children:[Object(x.jsx)(d.b,{exact:!0,path:"/",children:Object(x.jsx)(T,{})}),Object(x.jsx)(d.b,{path:"/orders",children:Object(x.jsx)(pe,{})}),Object(x.jsx)(d.b,{path:"/cart",children:Object(x.jsx)(ie,{})}),Object(x.jsx)(d.b,{path:"*",children:Object(x.jsx)(d.a,{to:"/"})})]})]}):null,f.isLoggedIn&&"admin"===f.role?Object(x.jsxs)(j.a,{children:[Object(x.jsx)("div",{className:e.root,children:Object(x.jsx)(Ie.a,{position:"static",className:e.nav,children:Object(x.jsxs)(Re.a,{children:[Object(x.jsx)("div",{className:e.menuButton,children:["left"].map((function(e){return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)(I.a,{onClick:u(e,!0),children:Object(x.jsx)(we.a,{style:{color:"#fff"}})}),Object(x.jsx)(ke.a,{anchor:e,open:a[e],onClose:u(e,!1),children:m(e)})]},e)}))}),Object(x.jsxs)("div",{className:e.hideNav,children:[Object(x.jsx)(j.b,{to:"/admin",className:e.links,style:{color:"white",textDecoration:"none"},children:Object(x.jsx)(C.a,{children:"Dashboard"})}),Object(x.jsx)(j.b,{to:"/recentOrders",className:e.links,style:{color:"white",textDecoration:"none"},children:Object(x.jsx)(C.a,{children:"Recent Orders"})}),Object(x.jsx)(j.b,{to:"/create",className:e.links,style:{color:"white",textDecoration:"none"},children:Object(x.jsx)(C.a,{children:Object(x.jsx)(C.a,{children:"Add Products"})})}),Object(x.jsx)(j.b,{to:"/myProducts",className:e.links,style:{color:"white",textDecoration:"none"},children:Object(x.jsx)(C.a,{children:Object(x.jsx)(C.a,{children:"Products"})})}),Object(x.jsx)(j.b,{className:[e.links],style:{color:"white",textDecoration:"none"},children:Object(x.jsx)(C.a,{onClick:y,children:"Logout"})})]})]})})}),Object(x.jsxs)(d.d,{children:[Object(x.jsx)(d.b,{path:"/admin",children:Object(x.jsx)(fe,{})}),Object(x.jsx)(d.b,{path:"/recentOrders",children:Object(x.jsx)(ye,{})}),Object(x.jsx)(d.b,{path:"/create",children:Object(x.jsx)(ge,{})}),Object(x.jsx)(d.b,{path:"/myProducts",children:Object(x.jsx)(qe,{})}),Object(x.jsx)(d.b,{path:"*",children:Object(x.jsx)(d.a,{to:"/admin"})})]})]}):null]})};var Ge=function(){return p(),g(),Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(Fe,{})})};c(152);s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(v,{children:Object(x.jsx)(Ge,{})})}),document.getElementById("root"))},86:function(e,t,c){},95:function(e,t,c){}},[[153,1,2]]]);
//# sourceMappingURL=main.bc3fa34f.chunk.js.map