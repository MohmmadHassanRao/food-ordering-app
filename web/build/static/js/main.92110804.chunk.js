(this.webpackJsonpsweet=this.webpackJsonpsweet||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(8),o=n.n(a),s=(n(51),n(52),n(23)),l=n(16),i=n(7),d=n(19),j=n(2),u=Object(c.createContext)(),b=Object(c.createContext)(),h=function(){return Object(c.useContext)(u)},O=function(){return Object(c.useContext)(b)},x=function(e){var t=e.children,n=Object(c.useState)({user:null,darkTheme:!0,isLoggedIn:!1}),r=Object(d.a)(n,2),a=r[0],o=r[1];return Object(j.jsx)("div",{children:Object(j.jsx)(u.Provider,{value:a,children:Object(j.jsx)(b.Provider,{value:o,children:t})})})},f=n(15),g=n.n(f),p=function(){var e=h();return Object(c.useEffect)((function(){g()({method:"get",url:"".concat("http://localhost:5000","/dashboard")}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}),[]),console.log(e),Object(j.jsx)("div",{children:Object(j.jsxs)("h1",{children:["Welcome ",e.user.name]})})},m=function(){var e="http://localhost:5000",t=Object(i.f)(),n=(h(),O()),r=Object(c.useRef)();console.log(r);var a=Object(c.useRef)(),o=Object(c.useState)(""),l=Object(d.a)(o,2),u=l[0],b=l[1];return Object(c.useEffect)((function(){console.log(u),g()({method:"post",url:"".concat(e,"/auth/validateEmail"),data:{email:u}}).then((function(e){console.log("validation",e.data.isFound),console.log("validation",e.data.data),null===e.data.data?(document.getElementById("validate").innerText="email not found",r.current.style.border="1px solid red"):e.data.data&&(r.current.style.border="1px solid green",document.getElementById("validate").innerText="")}))}),[u]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Login"}),Object(j.jsxs)("form",{noValidate:!0,onSubmit:function(c){c.preventDefault(),g()({method:"post",url:e+"/auth/login",data:{email:r.current.value,password:a.current.value}}).then((function(e){console.log("response",e),alert(e.data.message),200===e.data.status&&(t.push("/dashboard"),n((function(t){return Object(s.a)(Object(s.a)({},t),{},{user:e.data.user,isLoggedIn:!t.isLoggedIn})})))}),(function(e){alert("error",e),console.log("error data",e.response)}))},children:["Email",Object(j.jsx)("input",{type:"email",ref:r,required:!0,onChange:function(e){return b(e.target.value)}}),Object(j.jsx)("small",{id:"validate"}),Object(j.jsx)("br",{}),"Password :",Object(j.jsx)("input",{type:"password",ref:a,required:!0}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{children:"Submit"})]})]})},v=n(5),y=n(110),C=(Object(v.a)({root:{"& label.Mui-focused":{color:"green"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"blue"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"green"}}}})(y.a),function(){var e="http://localhost:5000",t=Object(i.f)(),n=Object(c.useRef)(),r=Object(c.useRef)();console.log(r);var a=Object(c.useRef)(),o=Object(c.useState)(""),s=Object(d.a)(o,2),l=s[0],u=s[1];return Object(c.useEffect)((function(){console.log(l),g()({method:"post",url:"".concat(e,"/auth/validateEmail"),data:{email:l}}).then((function(e){console.log("validation",e.data.isFound),console.log("validation",e.data.data),null===e.data.data?(document.getElementById("validate").innerText="",r.current.style.border="1px solid green"):e.data.data&&(r.current.style.border="1px solid red",document.getElementById("validate").innerText="email already registered")}))}),[l]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Sign Up"}),Object(j.jsxs)("form",{noValidate:!0,onSubmit:function(c){c.preventDefault(),g()({method:"post",url:e+"/auth/signup",data:{name:n.current.value,email:r.current.value,password:a.current.value}}).then((function(e){console.log("response",e),console.log("response doc",e.data.doc),alert(e.data.message),200===e.data.status&&t.push("/login")}),(function(e){alert("error",e),console.log("error data",e.response)}))},children:["Name: ",Object(j.jsx)("input",{type:"text",ref:n,required:!0})," ",Object(j.jsx)("br",{}),"Email",Object(j.jsx)("input",{type:"email",ref:r,required:!0,onChange:function(e){return u(e.target.value)}}),Object(j.jsx)("small",{id:"validate"}),Object(j.jsx)("br",{}),"Password :",Object(j.jsx)("input",{type:"password",ref:a,required:!0}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{children:"Submit"})]})]})}),E=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"please Signup to see Dashboard..."})})},k=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Welcome to sweet shop"})})},w=function(){var e=h(),t=O(),n={backGroundColor:e.darkTheme?"#333":"#ccc",color:e.darkTheme?"#fff":"black"};return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{children:[JSON.stringify(e),Object(j.jsx)("button",{style:n,onClick:function(){return t((function(e){return Object(s.a)(Object(s.a)({},e),{},{darkTheme:!e.darkTheme})}))},children:"Change Theme"}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("nav",{className:"navbar",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/",children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/signup",children:"signup"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/login",children:"Login"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/dashboard",children:"Dashboard"})})]})}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",children:Object(j.jsx)(k,{})}),Object(j.jsx)(i.a,{path:"/dashboard",children:e.isLoggedIn?Object(j.jsx)(p,{}):Object(j.jsx)(E,{})}),Object(j.jsx)(i.a,{path:"/signup",children:Object(j.jsx)(C,{})}),Object(j.jsx)(i.a,{path:"/login",children:Object(j.jsx)(m,{})}),Object(j.jsx)(i.a,{path:"/dashboard",children:Object(j.jsx)(p,{})})]})]})]})})};var S=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(w,{})})};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(x,{children:Object(j.jsx)(S,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.92110804.chunk.js.map