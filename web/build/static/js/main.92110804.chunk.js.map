{"version":3,"sources":["globalState/GlobalState.js","components/Dashboard.js","components/Login.js","components/Signup.js","components/NotFound.js","components/Home.js","AppRouter/AppRouter.js","App.js","index.js"],"names":["GlobalState","createContext","GlobalStateUpdate","useGlobalState","useContext","useSetGlobalState","GlobalStateProvider","children","useState","user","darkTheme","isLoggedIn","data","setData","Provider","value","Dashboard","globalState","useEffect","axios","method","url","then","res","console","log","catch","err","name","Login","history","useHistory","setGlobalState","email","useRef","password","validateEmail","setValidateEmail","isFound","document","getElementById","innerText","current","style","border","noValidate","onSubmit","e","preventDefault","response","alert","message","status","push","prevState","error","type","ref","required","onChange","target","id","Signup","withStyles","root","color","borderColor","TextField","doc","NotFound","Home","AppRouter","themeStyle","backGroundColor","JSON","stringify","onClick","prev","className","to","exact","path","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.92110804.chunk.js","sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\r\n\r\nconst GlobalState = createContext();\r\nconst GlobalStateUpdate = createContext();\r\n\r\nexport const useGlobalState = () => useContext(GlobalState);\r\nexport const useSetGlobalState = () => useContext(GlobalStateUpdate);\r\n\r\nexport const GlobalStateProvider = ({ children }) => {\r\n  const [data, setData] = useState({\r\n    user: null,\r\n    darkTheme: true,\r\n    isLoggedIn: false,\r\n  });\r\n  return (\r\n    <div>\r\n      <GlobalState.Provider value={data}>\r\n        <GlobalStateUpdate.Provider value={setData}>\r\n          {children}\r\n        </GlobalStateUpdate.Provider>\r\n      </GlobalState.Provider>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useGlobalState } from \"../globalState/GlobalState\";\r\nimport axios from \"axios\";\r\n\r\nconst Dashboard = () => {\r\n  const globalState = useGlobalState();\r\n  const url = \"http://localhost:5000\";\r\n  //   const url = \"https://food-mania.herokuapp.com\";\r\n\r\n  useEffect(() => {\r\n    axios({\r\n      method: \"get\",\r\n      url: `${url}/dashboard`,\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  console.log(globalState);\r\n  return (\r\n    <div>\r\n      <h1>Welcome {globalState.user.name}</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useGlobalState, useSetGlobalState } from \"../globalState/GlobalState\";\r\n\r\nconst Login = () => {\r\n  const url = \"http://localhost:5000\";\r\n  // const url = \"https://food-mania.herokuapp.com\";\r\n\r\n  const history = useHistory();\r\n  const globalState = useGlobalState();\r\n  const setGlobalState = useSetGlobalState();\r\n\r\n  // console.log(globalState);\r\n\r\n  let email = useRef();\r\n  console.log(email);\r\n  let password = useRef();\r\n  //   let validation = useRef();\r\n  //   console.log(validation.current);\r\n\r\n  let [validateEmail, setValidateEmail] = useState(\"\");\r\n  const signup = () => {\r\n    // console.log(name, email, password);\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: url + \"/auth/login\",\r\n      data: {\r\n        email: email.current.value,\r\n        password: password.current.value,\r\n      },\r\n    }).then(\r\n      (response) => {\r\n        console.log(\"response\", response);\r\n        alert(response.data.message);\r\n        if (response.data.status === 200) {\r\n          history.push(\"/dashboard\");\r\n          setGlobalState((prevState) => ({\r\n            ...prevState,\r\n            user: response.data.user,\r\n\r\n            isLoggedIn: !prevState.isLoggedIn,\r\n          }));\r\n        }\r\n      },\r\n      (error) => {\r\n        alert(\"error\", error);\r\n        console.log(\"error data\", error.response);\r\n      }\r\n    );\r\n    return false;\r\n  };\r\n  useEffect(() => {\r\n    console.log(validateEmail);\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: `${url}/auth/validateEmail`,\r\n      data: {\r\n        email: validateEmail,\r\n      },\r\n    }).then((res) => {\r\n      console.log(\"validation\", res.data.isFound);\r\n      console.log(\"validation\", res.data.data);\r\n      if (res.data.data === null) {\r\n        document.getElementById(\"validate\").innerText = \"email not found\";\r\n        email.current.style.border = \"1px solid red\";\r\n      } else if (res.data.data) {\r\n        email.current.style.border = \"1px solid green\";\r\n        document.getElementById(\"validate\").innerText = \"\";\r\n      }\r\n    });\r\n  }, [validateEmail]);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <form\r\n        noValidate\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          signup();\r\n        }}\r\n      >\r\n        Email\r\n        <input\r\n          type=\"email\"\r\n          ref={email}\r\n          required\r\n          onChange={(e) => setValidateEmail(e.target.value)}\r\n        />\r\n        <small id=\"validate\"></small>\r\n        <br />\r\n        Password :\r\n        <input type=\"password\" ref={password} required />\r\n        <br />\r\n        <button>Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import axios from \"axios\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    \"& label.Mui-focused\": {\r\n      color: \"green\",\r\n    },\r\n\r\n    \"& .MuiOutlinedInput-root\": {\r\n      \"& fieldset\": {\r\n        borderColor: \"blue\",\r\n      },\r\n      \"&:hover fieldset\": {\r\n        borderColor: \"black\",\r\n      },\r\n      \"&.Mui-focused fieldset\": {\r\n        borderColor: \"green\",\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\nconst Signup = () => {\r\n  const url = \"http://localhost:5000\";\r\n  // const url = \"https://food-mania.herokuapp.com\";\r\n\r\n  const history = useHistory();\r\n  let name = useRef();\r\n  let email = useRef();\r\n  console.log(email);\r\n  let password = useRef();\r\n  //   let validation = useRef();\r\n  //   console.log(validation.current);\r\n\r\n  let [validateEmail, setValidateEmail] = useState(\"\");\r\n  const signup = () => {\r\n    // console.log(name, email, password);\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: url + \"/auth/signup\",\r\n      data: {\r\n        name: name.current.value,\r\n        email: email.current.value,\r\n        password: password.current.value,\r\n      },\r\n    }).then(\r\n      (response) => {\r\n        console.log(\"response\", response);\r\n        console.log(\"response doc\", response.data.doc);\r\n        alert(response.data.message);\r\n        if (response.data.status === 200) {\r\n          history.push(\"/login\");\r\n        }\r\n      },\r\n      (error) => {\r\n        alert(\"error\", error);\r\n        console.log(\"error data\", error.response);\r\n      }\r\n    );\r\n    return false;\r\n  };\r\n  useEffect(() => {\r\n    console.log(validateEmail);\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: `${url}/auth/validateEmail`,\r\n      data: {\r\n        email: validateEmail,\r\n      },\r\n    }).then((res) => {\r\n      console.log(\"validation\", res.data.isFound);\r\n      console.log(\"validation\", res.data.data);\r\n      if (res.data.data === null) {\r\n        document.getElementById(\"validate\").innerText = \"\";\r\n        email.current.style.border = \"1px solid green\";\r\n      } else if (res.data.data) {\r\n        email.current.style.border = \"1px solid red\";\r\n        document.getElementById(\"validate\").innerText =\r\n          \"email already registered\";\r\n      }\r\n    });\r\n  }, [validateEmail]);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Sign Up</h1>\r\n      <form\r\n        noValidate\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          signup();\r\n        }}\r\n      >\r\n        {/* <CssTextField\r\n          id=\"custom-css-standard-input\"\r\n          label=\"Name\"\r\n          ref={name}\r\n          variant=\"outlined\"\r\n          required\r\n        />\r\n        <br />\r\n        <CssTextField\r\n          id=\"custom-css-standard-input\"\r\n          label=\"Email\"\r\n          type=\"email\"\r\n          ref={email}\r\n          required\r\n          variant=\"outlined\"\r\n          onChange={(e) => setValidateEmail(e.target.value)}\r\n        />\r\n        <br />\r\n        <CssTextField\r\n          id=\"custom-css-standard-input\"\r\n          label=\"password\"\r\n          type=\"password\"\r\n          ref={password}\r\n          variant=\"outlined\"\r\n          required\r\n        />\r\n        <br />\r\n        <button>Submit</button> */}\r\n        Name: <input type=\"text\" ref={name} required /> <br />\r\n        Email\r\n        <input\r\n          type=\"email\"\r\n          ref={email}\r\n          required\r\n          onChange={(e) => setValidateEmail(e.target.value)}\r\n        />\r\n        <small id=\"validate\"></small>\r\n        <br />\r\n        Password :\r\n        <input type=\"password\" ref={password} required />\r\n        <br />\r\n        <button>Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\n\r\nexport const NotFound = () => {\r\n  return (\r\n    <div>\r\n      <h1>please Signup to see Dashboard...</h1>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Home = () => {\r\n  return (\r\n    <div>\r\n      <h1>Welcome to sweet shop</h1>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Link, Route } from \"react-router-dom\";\r\nimport Dashboard from \"../components/Dashboard\";\r\nimport Login from \"../components/Login\";\r\nimport Signup from \"../components/Signup\";\r\nimport { NotFound } from \"../components/NotFound\";\r\nimport { useGlobalState, useSetGlobalState } from \"../globalState/GlobalState\";\r\nimport { Home } from \"../components/Home\";\r\n\r\nexport const AppRouter = () => {\r\n  const globalState = useGlobalState();\r\n  const setGlobalState = useSetGlobalState();\r\n\r\n  const themeStyle = {\r\n    backGroundColor: globalState.darkTheme ? \"#333\" : \"#ccc\",\r\n    color: globalState.darkTheme ? \"#fff\" : \"black\",\r\n  };\r\n\r\n  // console.log(globalState, setGlobalState);\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {JSON.stringify(globalState)}\r\n        <button\r\n          style={themeStyle}\r\n          onClick={() =>\r\n            setGlobalState((prev) => ({ ...prev, darkTheme: !prev.darkTheme }))\r\n          }\r\n        >\r\n          Change Theme\r\n        </button>\r\n        <Router>\r\n          <nav className=\"navbar\">\r\n            <ul>\r\n              <li>\r\n                <Link to=\"/\">Home</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/signup\">signup</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/login\">Login</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/dashboard\">Dashboard</Link>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Home />\r\n            </Route>\r\n            <Route path=\"/dashboard\">\r\n              {globalState.isLoggedIn ? <Dashboard /> : <NotFound />}\r\n            </Route>\r\n            <Route path=\"/signup\">\r\n              <Signup />\r\n            </Route>\r\n            <Route path=\"/login\">\r\n              <Login />\r\n            </Route>\r\n            <Route path=\"/dashboard\">\r\n              <Dashboard />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import \"./App.css\";\r\nimport { AppRouter } from \"./AppRouter/AppRouter\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <AppRouter />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { GlobalStateProvider } from \"./globalState/GlobalState\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlobalStateProvider>\r\n      <App />\r\n    </GlobalStateProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}